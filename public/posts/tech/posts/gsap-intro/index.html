<!DOCTYPE html>
<html id="top" lang="en-us">
<head>
  <meta charset="utf-8">

  <title>好玩的JavaScrip动画框架——GSAP 【intro试译】 | nekolas.cafe</title>

  <meta name="author" content="" />

  
  <meta name="keywords" content="web dev, javascript, reader, blog, programmer, peace & love">
  

  
  <meta name="description" content="Getting Started with GSAP!">
  

  <meta name="generator" content="Hugo 0.89.4" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="HandheldFriendly" content="True">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/hack-font/3.3.0/web/hack-subset.min.css">
  <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/11.5.1/styles/base16/gruvbox-dark-soft.min.css">
  <script>
    hljs.highlightAll('pre code');
    hljs.configure({
      ignoreUnescapedHTML: true
      });
  </script>


  <link href="https://blogpic-1308403500.cos.ap-shanghai.myqcloud.com//test005BYxJSly1gua1gfov8rj60u0140tf802.jpg" rel="shortcut icon">
  <link href="/css/style.css" rel="stylesheet" type="text/css">

  
</head>

<body>
  <header>
    <div class="left logo">
      <h1><a href="/">Nic Tian</a></h1>
      <p>Cat that codes.</p>
    </div>

    
<nav>
  
  <ul>
    
    
      <li><a href="/gallery">~/gallery</a></li>
    
      <li><a href="/bb">~/bb</a></li>
    

    
      <li><a href="/tags">~/tags</a></li>
    
      <li><a href="/posts">~/posts</a></li>
    
  </ul>
  

  
  <ul class="social_links">
    
      <li><a target="hugo_ext" href="https://twitter.com/niqks07">Twitter</a></li>
    
      <li><a target="hugo_ext" href="https://github.com/nicopcat">GitHub</a></li>
    
      <li><a target="hugo_ext" href="https://instagram.com/niqks07">Instagram</a></li>
    
      <li><a target="hugo_ext" href="mailto:tianfang07@outlook.com">Email</a></li>
    
  </ul>
  
</nav>




  </header>

  <main>
    
<article>
  <header>
    <h1><a href="/posts/tech/posts/gsap-intro/">好玩的JavaScrip动画框架——GSAP 【intro试译】</a></h1>
    <time datetime="2022-03-12 13:00:00 &#43;0800 CST">2022-03-12</time>
    <div class="breadcrumb">
    <ol>
        <li><a href="/">Home</a></li>
        
        
        
        
        
        <li><a href="/posts">Posts</a></li>
        
        
        
        <li><a href="/posts/tech">Tech</a></li>
        
        
        
        <li><a href="/posts/tech/posts">Posts</a></li>
        
        
        
        <li><a href="/posts/tech/posts/gsap-intro">Gsap intro</a></li>
        
        
        
        
    </ol>
</div>
  </header>

  <div class="body">
    <p>GSAP 全称是 GreenSock Animation Platform，是一个非常强大的基于 JS 的动画库，初次接触的我深感，短短几行代码就能实现非常酷炫的特效。</p>
<p>在学习的过程中，顺便把官网的教程翻译成中文参考。</p>
<h1 id="什么是-gsap">什么是 GSAP?</h1>
<h2 id="gsap-其实是在操控属性">GSAP 其实是在操控属性</h2>
<p>动画最终可以归结为一个每秒多次改变属性值的过程，可以使某物产生移动、褪色、旋转等效果。GSAP 抓取一个起始值和一个终止值，然后每秒在它们之间插值 60 次。</p>
<p>例如，在 1 秒内将一个物体的 X 坐标从 0 改变到 1000，并使其迅速向右移动。将不透明度从 1 到 0 渐变，使一个元素淡出。作为一个动画师，你的任务是决定改变哪些属性，多快，以及运动的风格（即<a href="https://greensock.com/get-started/#easing">缓动</a>&ndash;我们后面会讲到）。</p>
<h2 id="dom-svg-canvas-以及其他">DOM, SVG, <code>&lt;canvas&gt;</code> 以及其他</h2>
<p>GSAP 并没有预定义它可以处理哪些属性。它超级灵活，几乎可以适应你扔给它的任何东西。GSAP 可以对以下所有内容进行动画处理：</p>
<ul>
<li>CSS: 2D and 3D transforms, colors, width, opacity, border-radius, margin, and 几乎所有的 CSS 属性</li>
<li>SVG 属性: viewBox, width, height, fill, stroke, cx, r, opacity, etc. 像 MorphSVG 和 DrawSVG 这样的插件可以用于高级效果</li>
<li>任何数值 例如，一个被渲染到<code>&lt;canvas&gt;</code>的对象。对三维场景中的相机位置进行动画处理，或对数值进行过滤。GSAP 经常与 Three.js 和 Pixi.js 一起使用。</li>
</ul>
<h2 id="gsap-到底是什么">GSAP 到底是什么？</h2>
<p>GSAP 是一套用于脚本动画的工具。它包括：</p>
<ul>
<li>GSAP 核心 - 它是引擎的核心，为任何对象的任何属性制作动画。它使用的是<a href="https://greensock.com/docs/v3/GSAP/Tween">tween</a>动画库，可以让你更好地控制动画。</li>
<li>其他，如为你节省时间的插件，缓动工具，实用方法，等等。</li>
</ul>
<h1 id="安装-gsap">安装 GSAP</h1>
<p>可以使用 CDN,下载或使用 NPM/YARN 安装，也可以从 Github 获取。参考<a href="https://greensock.com/install">installation page</a>，最简单的就是用 script 标签引入：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js&#34;</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</code></pre></div><h1 id="基本的-tweening-知识">基本的 Tweening 知识</h1>
<p>开始学习一些基础的 tweens 吧，可以参考官网给出的<a href="https://codepen.io/GreenSock/pen/aYYOdN">codepen</a> demo.</p>
<h2 id="gsapto">gsap.to()</h2>
<p>为了创建一个动画，gsap.to()需要两个参数：</p>
<ul>
<li>目标(target) - 也就是你想让它动起来的对象。可以是一个单纯的对象，或一个 array 中的对象，或者是像 jQuery 的选择器，如<code>&quot;.myClass&quot;</code>.</li>
<li>变量(vars) - 一个带有你要制作动画的属性/值对的对象（比如<code>opacity:0</code>.5, <code>rotation:45</code>，等等），以及其他可选的特殊属性，比如<code>duration</code>和<code>onComplete</code>。</li>
</ul>
<p>举个栗子，要在 1 秒内把一个 id 为&quot;logo&quot;的元素，移动到<code>x</code>为 100 的地方（即<code>transform: translateX(100px)</code>），可以这样写：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">to</span>(<span style="color:#e6db74">&#34;#logo&#34;</span>, { <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span> });
</code></pre></div><p>注意：记住，GSAP 可以操作的并不仅仅是 DOM 元素，所以你甚至可以对原始对象的自定义属性进行动画处理，像这样:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">prop</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span> };
<span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">to</span>(<span style="color:#a6e22e">obj</span>, {
  <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
  <span style="color:#a6e22e">prop</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">200</span>,
  <span style="color:#75715e">//onUpdate fires each time the tween updates; we&#39;ll explain callbacks later.
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">onUpdate</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">prop</span>); <span style="color:#75715e">//logs the value on each update.
</span><span style="color:#75715e"></span>  },
});
</code></pre></div><p>打开 dev tool 你可以看到，在 1 秒内 GSAP 打印了从 10 到 200 的数值。可以看出，每次 tween 更新，都会触发 onUpdate()从而打印数字。</p>
<p>请注意，在上面的 demo 中，<code>opacity</code>, <code>scale</code>, <code>rotation</code> 和<code>x</code>值都被动画化了，但 DOM 元素实际上并没有这些属性! 换句话说，不存在<code>element.scale</code>或<code>element.opacity</code>这样的东西。那是它怎么做到的呢？这就是 GSAP 的魔力。在我们谈论这背后的细节之前，让我们先看看 GSAP 的插件以及它们是如何工作的，因为这将澄清一些重要的概念。</p>
<h1 id="plugins">Plugins</h1>
<p>可以把插件看作是动态地添加到 GSAP 中以增加特殊属性的工具，注入额外的功能。这使核心引擎体积小而有效，同时允许无限扩展。每个插件都与一个特定的属性名称有关。</p>
<p>其中最受欢迎的插件是：</p>
<ul>
<li>SplitText: 将文本块分割成行、字和字符，并使你能够轻松地将每个部分做成动画。</li>
<li>Draggable：增加了拖放任何元素的功能。</li>
<li>MorphSVGPlugin: 对复杂的 SVG 路径进行平滑变形。</li>
<li>DrawSVGPlugin: 对 SVG 笔触的长度和位置进行动画处理。</li>
<li>MotionPathPlugin: 沿着一个路径对任何元素进行动画。</li>
</ul>
<h2 id="css-插件">CSS 插件</h2>
<p>在前面的例子中，GSAP 使用了一个叫做<a href="https://greensock.com/docs/v3/GSAP/InternalPlugins/CSSPlugin">CSSPlugin</a>的核心插件（一个包含在 GSAP 核心中的插件）。它自动注意到目标是一个 DOM 元素，所以它<strong>拦截</strong>了这些值，并在背后做了一些额外的工作，将它们当作内联样式（在这种情况下是 <code>element.style.transform</code> 和 <code>element.style.opacity</code>）。请务必观看本文顶部的 &ldquo;入门 &ldquo;视频，看看它的操作。</p>
<p>CSSPlugin 的特点:</p>
<ul>
<li>使各<strong>浏览器的行为正常化</strong>，并解决各种浏览器的错误和不一致的问题</li>
<li>通过自动分层、缓存转换组件、防止布局紊乱等来<strong>优化性能</strong>。</li>
<li>独立控制<strong>2D 和 3D 变换组件</strong>（<code>x</code>、<code>y</code>、旋转、<code>scaleX</code>、<code>scaleY</code>、<code>skewX</code>等）（消除了操作顺序的问题）</li>
<li>读取计算值，所以你<strong>不必手动定义起始值</strong></li>
<li>对<strong>复杂的值</strong>进行动画处理，如<code>borderRadius: &quot;50% 50%&quot;</code>和<code>boxShadow: &quot;0px 0px 20px 20px red&quot;</code></li>
<li>在必要时应用供应商特定的<strong>前缀</strong>（-moz-, -ms-, -webkit-, 等等）。</li>
<li>动画化<strong>CSS 变量</strong></li>
<li>规范<strong>SVG</strong>和 DOM 元素之间的行为（对 transforms 特别有用）。</li>
<li>&hellip;还有更多</li>
</ul>
<p>基本上，CSSPlugins 让你非常省心。</p>
<p>由于动画化 CSS 属性非常普遍，GSAP 会自动感知目标是一个 DOM 元素，并在内部将 CSS 值传给 CSSPlugin。没有必要用 css:{}对象来包装东西。对你来说，需要打的字更少了。不客气。</p>
<p>要了解 CSSPlugin 的高级功能，请阅读完整的<a href="https://greensock.com/docs/v3/GSAP/CorePlugins/CSSPlugin">CSSPlugin 文档</a>。</p>
<h1 id="2d-和-3d-transforms">2D 和 3D transforms</h1>
<p>CSSPlugin 根据 transforms（变形）相关的属性，可以识别的一些短代码：</p>
<table>
<thead>
<tr>
<th>GSAP</th>
<th>CSS</th>
</tr>
</thead>
<tbody>
<tr>
<td>x: 100</td>
<td>transform: translateX(100px)</td>
</tr>
<tr>
<td>y: 100</td>
<td>transform: translateY(100px)</td>
</tr>
<tr>
<td>rotation: 360</td>
<td>transform: rotate(360deg)</td>
</tr>
<tr>
<td>rotationX: 360</td>
<td>transform: rotateX(360deg)</td>
</tr>
<tr>
<td>rotationY: 360</td>
<td>transform: rotateY(360deg)</td>
</tr>
<tr>
<td>skewX: 45</td>
<td>transform: skewX(45deg)</td>
</tr>
<tr>
<td>skewY: 45</td>
<td>transform: skewY(45deg)</td>
</tr>
<tr>
<td>scale: 2</td>
<td>transform: scale(2, 2)</td>
</tr>
<tr>
<td>scaleX: 2</td>
<td>transform: scaleX(2)</td>
</tr>
<tr>
<td>scaleY: 2</td>
<td>transform: scaleY(2)</td>
</tr>
<tr>
<td>xPercent: -50</td>
<td>transform: translateX(-50%)</td>
</tr>
<tr>
<td>yPercent: -50</td>
<td>transform: translateY(-50%)</td>
</tr>
</tbody>
</table>
<p>GSAP 可以对任何<code>transform</code>值进行动画处理，但我们强烈建议使用上面的快捷方式，因为它们更快、更准确（GSAP 可以跳过解析计算的矩阵值，因为对于超过 180 度的旋转值来说，它本身就是模糊的）。GSAP 提供的另一个主要便利是对每个组件的独立控制，同时提供一个一致的操作顺序。</p>
<p>性能说明：对于浏览器来说，更新<code>x</code>和<code>y</code>（transform）要比更新影响文档流的<code>top</code>和<code>left</code>容易得多。所以要移动一些东西，我们建议使用<code>x</code>和<code>y</code>写动画。</p>
<p><strong>请记住：</strong></p>
<ul>
<li>请确保对所有带连字符的属性进行 camelCase 转换。font-size 写作 fontSize，背景色写作 backgroundColor。</li>
<li>当对<code>left</code>和<code>top</code>等位置属性进行动画处理时，你试图移动的元素也必须有一个<code>absolute</code>、<code>relative</code>或<code>fixed</code>的 CSS <code>position</code>值。</li>
</ul>
<h2 id="from-方法">from() 方法</h2>
<p>有时，将你的元素设置在它们应该结束的地方（例如，在一个介绍性的动画结束后），然后从其他的值开始移动，这会非常方便。这正是<code>gsap.from()</code>的作用。</p>
<p>例如，你现在有一个 <code>&quot;#logo&quot;</code> 元素，初始<code>x</code>位置为 <code>0</code>，然后你创建了下面的 tween：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">from</span>(<span style="color:#e6db74">&#34;#logo&#34;</span>, { <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span> });
</code></pre></div><p>于是这个<code>#logo</code>会立即跳到<code>x</code>为<code>100</code>的位置，然后开始移动到<code>x</code>为<code>0</code>的位置（或当 tween 开始工作时的随便某个值）。话句话说，这个元素将从<strong>你提供的值</strong>开始动画，而不是初始值。</p>
<p>请看<a href="https://codepen.io/GreenSock/pen/OJLgroR">Codepen</a>例子。</p>
<p>也有一个<code>fromTo()</code>方法，允许你指定初始值和结束值。</p>
<h2 id="set-方法">set() 方法</h2>
<p>如果你想即刻设置一些属性，使用<code>.set()</code>方法。它本质上是一个<code>duration</code>为<code>0</code>的 tween。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;#logo&#34;</span>, { <span style="color:#a6e22e">fontSize</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span> });
</code></pre></div><h2 id="特殊属性-special-properties">特殊属性 Special properties</h2>
<p>一个特殊属性就像一个保留的关键字，GSAP 对它的处理方式与普通（动画）属性不同。特殊属性被用来定义回调、延迟、缓动、交错等。</p>
<p>特殊属性的一个基本例子是<code>duration</code>（我们已经在使用它了）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">to</span>(<span style="color:#e6db74">&#34;#logo&#34;</span>, { <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span> });
</code></pre></div><p>其他一些常见的特殊属性：</p>
<ul>
<li>delay - 动画开始前的延迟</li>
<li>onComplete - 当动画完成时的回调</li>
<li>onUpdate - 每次动画更新/渲染时的回调</li>
<li>ease - 缓动（如 <code>&quot;power2.inOut&quot;</code>）。</li>
<li>stagger - 为每个目标/元素动画错开开始时间</li>
</ul>
<h1 id="缓动-easing">缓动 Easing</h1>
<p>如果你的动画有声音，它听起来会是什么样的？它应该看起来很好玩吗？机器人式的？滑稽？逼真？要成为一名动画明星，你必须培养对缓动的敏锐感觉，因为它决定了 A 点和 B 点之间的运动风格。</p>
<p>一个 &ldquo;缓动 &ldquo;控制了 tween 过程中的变化率。下面是一个交互式工具，它可以让你直观地探索各种缓动效果。注意：你可以点击底部代码中的下划线部分来改变数值。</p>
<p>可视化工具地址：https://greensock.com/get-started/#easing</p>
<p>要想对你的缓和曲线进行绝妙的控制，一定要看看<a href="https://greensock.com/docs/v3/Eases/CustomEase">CustomEase</a>，它允许你绘制任何你所想的缓动曲线。<a href="https://greensock.com/wiggle-bounce">CustomWiggle 和 CustomBounce</a> 是高级缓动工具，可以创造极其复杂和逼真的效果。</p>
<h1 id="交错-staggers">交错 Staggers</h1>
<p>交错器让一组对象的动画绘制变得容易，让每个对象的动画开始之间有一个小的延迟。
DEMO2: <a href="https://codepen.io/GreenSock/pen/RwbZaZK">https://codepen.io/GreenSock/pen/RwbZaZK</a></p>
<p>你甚至可以通过添加一些配置选项来错开布置在网格中的项目!
DEMO2: <a href="https://codepen.io/GreenSock/pen/qBWjOMK">https://codepen.io/GreenSock/pen/qBWjOMK</a></p>
<h1 id="回调-callbacks">回调 Callbacks</h1>
<p>当一个特定的动画相关事件发生时，这些回调函数会调用一个函数：</p>
<ul>
<li>onComplete：动画<strong>完成</strong>时被调用。</li>
<li>onStart：动画<strong>开始</strong>时被调用。</li>
<li>onUpdate：每次动画<strong>更新</strong>时调用（在动画激活时的每一帧）。</li>
<li>onRepeat：每次动画<strong>重复</strong>时调用。</li>
<li>onReverseComplete：当动画<strong>反转</strong>时再次到达它的起点时被调用。</li>
</ul>
<p>要在动画结束时调用<code>tweenComplete()</code>函数，你应该这样写：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">to</span>(<span style="color:#e6db74">&#34;#logo&#34;</span>, { <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>, <span style="color:#a6e22e">onComplete</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">tweenComplete</span> });

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">tweenComplete</span>() {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;the tween is complete&#34;</span>);
}
</code></pre></div><h2 id="回调参数-callback-parameters">回调参数 Callback Parameters</h2>
<p>每个回调函数可以选择性地传递任意数量的参数。由于可以有多个参数，它们必须以数组形式传递（即使只有一个）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">to</span>(<span style="color:#e6db74">&#34;#logo&#34;</span>, {
  <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
  <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>,
  <span style="color:#a6e22e">onComplete</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">tweenComplete</span>,
  <span style="color:#a6e22e">onCompleteParams</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;done!&#34;</span>],
});

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">tweenComplete</span>(<span style="color:#a6e22e">message</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">message</span>);
}
</code></pre></div><p>默认情况下，回调的 scope（在该函数中<code>this</code>的指向）即 tween 本身，但你也可以指定 scope，比如 <code>callbackScope: yourScope</code>。</p>
<p>Callbacks DEMO: <a href="https://codepen.io/GreenSock/pen/MWgoLgq">https://codepen.io/GreenSock/pen/MWgoLgq</a></p>
<h2 id="controlling-animations">Controlling Animations</h2>
<p>你需要一个实例来控制动画，<code>to()</code>、<code>from()</code>和<code>fromTo()</code>方法都会返回一个Tween实例，所以你可以把它存为一个变量，然后非常轻松地控制动画:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">//create a reference to the animation
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">tween</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">to</span>(<span style="color:#e6db74">&#34;#logo&#34;</span>, {<span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>});

<span style="color:#75715e">//pause
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">pause</span>();

<span style="color:#75715e">//resume (honors direction - reversed or not)
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">resume</span>();

<span style="color:#75715e">//reverse (always goes back towards the beginning)
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">reverse</span>();

<span style="color:#75715e">//jump to exactly 0.5 seconds into the tween
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">seek</span>(<span style="color:#ae81ff">0.5</span>);

<span style="color:#75715e">//jump to exacty 1/4th into the tween&#39;s progress:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">progress</span>(<span style="color:#ae81ff">0.25</span>);

<span style="color:#75715e">//make the tween go half-speed
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">timeScale</span>(<span style="color:#ae81ff">0.5</span>);

<span style="color:#75715e">//make the tween go double-speed
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">timeScale</span>(<span style="color:#ae81ff">2</span>);

<span style="color:#75715e">//immediately kill the tween and make it eligible for garbage collection
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tween</span>.<span style="color:#a6e22e">kill</span>();
</code></pre></div><p>Demo: <a href="https://codepen.io/GreenSock/pen/OJLgdyg">Basic Control Methods</a></p>
<hr>
<p>* 2020-3-15 更新</p>
<h1 id="sequencing-with-timelines">Sequencing with Timelines</h1>
<p>有了GSAP的时间线，复杂的序列编排将变得异常简单。</p>
<p>时间线就像一个容器，你可以把tweens放在这个容器里（有点像一个时刻表）。它们可以重叠或间隔；你可以完全控制。当时间线的播放头移动时，它会经过它的子tweens，并相应地渲染它们。你想插入多少就插入多少，用标准方法把整个组作为一个整体来控制（如<code>play()</code>, <code>reverse()</code>, <code>pause()</code>等）。你甚至可以在时间线中嵌套时间线！</p>
<p>一旦你掌握了时间线的窍门，一个全新的可能性世界就会打开。它提供了一种使你的动画代码模块化的奇妙方法。</p>
<h2 id="何时使用timeline">何时使用timeline</h2>
<ul>
<li>将一组动画作为一个整体来控制时</li>
<li>创建一个序列时，不需要使用大量的<code>delay</code>，避免混乱（逐步构建，当前面的动画时间调整时，自动影响后面的动画，这大大简化了实验和维护）。</li>
<li>使你的动画代码模块化</li>
<li>做任何类型的复杂编排</li>
<li>在一组动画的基础上启动回调（比如 &ldquo;在所有动画完成后，调用myFunction()&quot;）</li>
</ul>
<p>但如果你只是在左右之间做一个动画，那么时间线可能是多余的。</p>
<p><strong>基本排序</strong>
timeline有类似<code>to()</code>、<code>from()</code>和<code>fromTo()</code>的方法，为我们提供了一种快速创建Tween并将其添加到时间线上的方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">//create a timeline instance
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">tl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">timeline</span>();

<span style="color:#75715e">//the following two lines do the SAME thing:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">tl</span>.<span style="color:#a6e22e">add</span>( <span style="color:#a6e22e">gsap</span>.<span style="color:#a6e22e">to</span>(<span style="color:#e6db74">&#34;#id&#34;</span>, {<span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>}) );
<span style="color:#a6e22e">tl</span>.<span style="color:#a6e22e">to</span>(<span style="color:#e6db74">&#34;#id&#34;</span>, {<span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">x</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>}); <span style="color:#75715e">//shorter syntax!
</span></code></pre></div><p>默认情况下，动画是一个接一个地插入的，可以使用<a href="https://greensock.com/position-parameter">位置参数</a>来精确控制动画的位置。</p>
<p>Demo: <a href="https://codepen.io/GreenSock/pen/WNeOPGz">Basic Sequencing</a></p>
<!-- 
# Timeline control

# Getter / Setter methods

# Getting Current Values of an Element's Property -->

  </div>
  
  <footer>
    
<div id="disqus_thread">
  <span class="button" onclick="loadDisqusComments()">Load Disqus Comments&hellip;</span>
</div>


  </footer>
  
</article>


<ul class="tags">
  
  <li>
    <a href="http://blog.nekolas.cafe/tags/gsap/">GSAP</a>
  </li>
  <li>
    <a href="http://blog.nekolas.cafe/tags/%E7%BF%BB%E8%AF%91/">翻译</a>
  </li>
  <li>
    <a href="http://blog.nekolas.cafe/tags/javascript/">JavaScript</a>
  </li></ul>



<div class="pagination">
  <div class="right">
  
  </div>
  <div class="left">
  
    <a href="/posts/tech/posts/git-guide/">
      <time datetime="2022-03-21 12:29:00 &#43;0800 CST">&laquo; 2022-03-21</time>
      Git使用笔记
    </a>
  
  </div>
</div>




<script type="text/javascript">
  function loadDisqusComments() {
    var e = document.createElement("script");
    e.type = "text/javascript";
    e.async = true;
    e.src = "//nekolas-blog.disqus.com/embed.js";
    (document.getElementsByTagName("head")[0] ||
      document.getElementsByTagName("body")[0])
    .appendChild(e);
  }

  
</script>




  </main>

  
  <footer>
    
      <span class="gopher" title="Proudly powered by Go!"></span>
    

    
<nav>
  
  <ul>
    
    
      <li><a href="/gallery">~/gallery</a></li>
    
      <li><a href="/bb">~/bb</a></li>
    

    
      <li><a href="/tags">~/tags</a></li>
    
      <li><a href="/posts">~/posts</a></li>
    
  </ul>
  

  
  <ul class="social_links">
    
      <li><a target="hugo_ext" href="https://twitter.com/niqks07">Twitter</a></li>
    
      <li><a target="hugo_ext" href="https://github.com/nicopcat">GitHub</a></li>
    
      <li><a target="hugo_ext" href="https://instagram.com/niqks07">Instagram</a></li>
    
      <li><a target="hugo_ext" href="mailto:tianfang07@outlook.com">Email</a></li>
    
  </ul>
  
</nav>




    <p>&copy; 2022 <a href="">Nic Tian</a></p>
  </footer>
  
  <a id="totop" href="#top" class="backtop"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-circle-up"
    class="svg-inline--fa fa-chevron-circle-up fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 512 512">
    <path fill="currentColor"
        d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm231-113.9L103.5 277.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L256 226.9l101.6 101.6c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L273 142.1c-9.4-9.4-24.6-9.4-34 0z">
    </path>
</svg></a>
  <script>
  window.addEventListener('scroll', function () {
    if(window.scrollY >= 1000){
      document.getElementById("totop").style.display = "block"
    }
    else{
      document.getElementById("totop").style.display = "none"
    }
  })

  </script>
  
</body>

</html>
