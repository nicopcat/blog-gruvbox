<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">

  <title>Vue-cli é‡å†™ to-do list ä¹‹æ‰€æ€ | nekolas.cafe</title>

  <meta name="author" content="" />

  
  <meta name="keywords" content="web dev, javascript, reader, blog, programmer, peace & love">
  

  
  <meta name="description" content="Cat that codes.">
  

  <meta name="generator" content="Hugo 0.89.4" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="HandheldFriendly" content="True">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hack-font/3.3.0/web/hack-subset.min.css"
  integrity="sha512-+FLbWf7MMvYQNrm4at87w8vmfsEVGmhDDHF77JGoqAtxDv+dYCAniHG+64Ivp+nRzuBYuZhyiXK8BXAN6k00TQ=="
  crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
  
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.5.1/styles/base16/gruvbox-dark-soft.min.css">
  <script>
    hljs.highlightAll('pre code');
    hljs.configure({
      ignoreUnescapedHTML: true
      });
  </script>


  <link href="/logo.png" rel="shortcut icon">
  <link href="/css/style.css" rel="stylesheet" type="text/css">

  
</head>

<body>

  <header>
    <div class="left logo">
      <h1><a href="/">Nic Tian</a></h1>
      <p>Cat that codes.</p>
    </div>

    
<nav>
  
  <ul>
    
    
      <li><a href="/gallery">~/gallery</a></li>
    
      <li><a href="/bb">~/bb</a></li>
    

    
      <li><a href="/tags">~/tags</a></li>
    
      <li><a href="/posts">~/posts</a></li>
    
  </ul>
  

  
  <ul>
    
      <li><a target="hugo_ext" href="https://twitter.com/niqks07">Twitter</a></li>
    
      <li><a target="hugo_ext" href="https://github.com/nicopcat">GitHub</a></li>
    
      <li><a target="hugo_ext" href="https://instagram.com/niqks07">Instagram</a></li>
    
      <li><a target="hugo_ext" href="mailto:tianfang07@outlook.com">Email</a></li>
    
  </ul>
  
</nav>




  </header>

  <main>
    
<article>
  <header>
    <h1><a href="/posts/tech/vue/dodo-v2/">Vue-cli é‡å†™ to-do list ä¹‹æ‰€æ€</a></h1>
    <time datetime="2022-04-05 00:00:00 &#43;0800 CST">2022-04-05</time>
  </header>

  <div class="body">
    <p>Dodo 1.0 æ˜¯ä¸€æ¬¾ç”¨ jQuery å†™çš„å¾…åŠè®°äº‹Web Appï¼Œå½“æ—¶æ˜¯åœ¨çœ‹é»‘é©¬JSçš„è¯¾ç¨‹ï¼Œå®Œå…¨æ˜¯è·Ÿç€è€å¸ˆå†™çš„ï¼Œç°åœ¨å›å¤´çœ‹ï¼Œæœ‰äº›çœŸçš„æ˜¯çœ‹ä¸æ‡‚ğŸ˜‚ã€‚éšç€VueçŸ¥è¯†çš„å¢åŠ ï¼Œé‚æƒ³ç”¨ Vue.js é‡å†™ä¸€ä¸‹è¿™æ¬¾Appï¼Œå°±å½“ç»ƒæ‰‹ã€‚</p>
<p>é¡¹ç›®ä½“éªŒï¼š</p>
<p><a href="https://www.niqks.tk/DoDo/">Dodo 1.0</a><br>
<a href="https://www.niqks.tk/dodo-v2/">Dodo 2.0</a></p>
<p><img src="https://blogpic-1308403500.cos.ap-shanghai.myqcloud.com//posts-coversdodo-v2-2022-04-12-02-23-44.png" alt="dodo-v2-2022-04-12-02-23-44"></p>
<p>Dodoè™½å°ï¼Œé—®é¢˜å¯ä¸å°‘ï¼Œç‹¬ç«‹åœ°ä» 0 æ„å»ºä¸€ä¸ª Appï¼Œæ€è€ƒçš„è¿˜æŒºå¤šã€‚æˆ‘è‡ªå·±éå¸¸æ¸…æ¥šï¼Œå¾ˆå¤šåœ°æ–¹å¯ä»¥ç®€åŒ–æˆ–æœ‰æ›´å¥½çš„åŠæ³•ï¼Œæˆ‘å¯èƒ½ç°åœ¨æ²¡æ³•åšåˆ°ç®€åŒ–ï¼Œä½†ä»¥åä¸€å®šå¯ä»¥ã€‚äºæ˜¯ç”¨è¿™ç¯‡æ–‡å­—è®°å½•è§£å†³æ–¹æ¡ˆå’Œè¿‡ç¨‹ä¸­çš„æ‰€æ€æ‰€æƒ³ã€‚</p>
<h2 id="localstorage">localStorage</h2>
<p>é‡åšé¡¹ç›®ä¹Ÿç›¸å½“äºå¤ä¹ <code>localStorage</code>çš„çŸ¥è¯†äº†ã€‚</p>
<h3 id="localstorageæ¦‚è¿°">localStorageæ¦‚è¿°</h3>
<blockquote>
<p>ä½œä¸º Web Storage API çš„æ¥å£ï¼ŒStorage æä¾›äº†è®¿é—®ç‰¹å®šåŸŸåä¸‹çš„ä¼šè¯å­˜å‚¨æˆ–æœ¬åœ°å­˜å‚¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤å­˜å‚¨çš„æ•°æ®é¡¹ã€‚</p>
</blockquote>
<p><code>localStorage</code> é‡Œé¢å­˜å‚¨çš„æ•°æ®ä¸ä¼šè¿‡æœŸï¼Œè€Œå­˜å‚¨åœ¨ <code>sessionStorage</code> é‡Œé¢çš„æ•°æ®åœ¨é¡µé¢ä¼šè¯ç»“æŸæ—¶ä¼šè¢«æ¸…é™¤ã€‚<br>
ï¼ˆsessionè¿™ä¸ªå•è¯è®©æˆ‘æƒ³èµ·ï¼Œåœ¨ä¸€äº›å¤–å›½ç½‘ç«™ï¼Œå¦‚æœè¦æ‰¾å®¢æœèŠï¼Œç»“æŸæŒ‰é’®å†™çš„å°±æ˜¯â€œEnd This Sessionâ€ï¼Œç»“æŸè¿™æ®µä¼šè¯ã€‚ï¼‰</p>
<p>åœ¨Dodoé¡¹ç›®ä¸­éœ€è¦ä¸€ç›´å‚¨å­˜ç”¨æˆ·çš„todosï¼Œæ‰€ä»¥éœ€è¦çš„æ˜¯ä¸ä¼šè¿‡æœŸçš„ <code>localStorage</code>ã€‚</p>
<h3 id="localstorageçš„æ–¹æ³•">localStorageçš„æ–¹æ³•</h3>
<p><code>Storage</code> å¯¹è±¡æœ‰å‡ ä¸ªæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨<code>localStorage</code>ä¸Šï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>localStorage.getItem()</code></td>
<td>æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œè¿”å›é”®åå¯¹åº”çš„å€¼ã€‚</td>
</tr>
<tr>
<td><code>localStorage.setItem()</code></td>
<td>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åå’Œå€¼ä½œä¸ºå‚æ•°ï¼Œå°†ä¼šæŠŠé”®å€¼å¯¹æ·»åŠ åˆ°å­˜å‚¨ä¸­ï¼Œå¦‚æœé”®åå­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ã€‚</td>
</tr>
<tr>
<td><code>localStorage.removeItem()</code></td>
<td>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œå¹¶æŠŠè¯¥é”®åä»å­˜å‚¨ä¸­åˆ é™¤ã€‚</td>
</tr>
<tr>
<td><code>localStorage.clear()</code></td>
<td>æ¸…ç©ºå­˜å‚¨ä¸­çš„æ‰€æœ‰é”®åã€‚</td>
</tr>
</tbody>
</table>
<p>åœ¨Dodo ä¸­ï¼Œåªæ˜¯ç”¨äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯<code>localStorage.getItem()</code>ï¼Œç”¨ä»¥æ‹¿åˆ°æ•°æ®ï¼Œå¦ä¸€ä¸ªæ˜¯<code>localStorage.setItem()</code>ï¼Œç”¨æ¥å‚¨å­˜æ•°æ®ã€‚</p>
<h3 id="storagesetitem">Storage.setItem()</h3>
<p>å¯ä»¥è¯•ç€å‚¨å­˜ä¸€äº›å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// keyName: &#39;todoList&#39;, keyValue: &#39;å–1Læ°´&#39;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">mydata</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#39;todoList&#39;</span>,<span style="color:#e6db74">&#39;å–1Læ°´&#39;</span>)
</code></pre></div><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç¡®å®å¯ä»¥å¾ˆè½»æ¾åœ°æŠŠä¸¤ä¸ª<code>å­—ç¬¦ä¸²</code>å­˜æ”¾åˆ°æœ¬åœ°å‚¨å­˜ä¸­ï¼Œä½†å¦‚æœæˆ‘éœ€è¦å‚¨å­˜çš„æ˜¯ä¸€ä¸ª<code>æ•°ç»„</code>ï¼Œæˆ–<code>å¯¹è±¡</code>å‘¢ï¼Ÿ</p>
<p>äºæ˜¯<code>JSON</code>åœ¨è¿™é‡Œæ’ä¸Šäº†ç”¨åœºã€‚<br>
ç®€å•æ¥è¯´ï¼Œ<strong>JSON</strong>æ˜¯ä¸€ç§ä½¿ç”¨ Javascriptè¯­æ³•æ¥æè¿°æ•°æ®å¯¹è±¡æ•°æ®æ ¼å¼ï¼Œç›¸å½“äºä¸€åº§æ¡¥æ¢ï¼Œè®©æˆ‘ä»¬çš„æ•°æ®ä¸å†æ‹˜æ³¥äºå­—ç¬¦ä¸²çš„æ ¼å¼ã€‚</p>
<ol>
<li>å‚¨å­˜èµ„æ–™æ—¶ï¼Œé€šè¿‡ <code>JSON.stringify()</code> æ–¹æ³•ï¼Œå°†å¯¹è±¡<strong>stringify</strong>æˆæ–‡æœ¬æ ¼å¼ã€‚</li>
<li>å»é™¤æ•°æ®æ—¶ï¼Œé€šè¿‡<code>JSON.parse()</code> æ–¹æ³•å°†æ–‡æœ¬æ ¼å¼çš„æ•°æ®ï¼Œ<strong>parse</strong>æˆåŸæ¥çš„æ ¼å¼ã€‚</li>
</ol>
<p>å‡è®¾æˆ‘æœ‰ä¸€ä¸ªåˆ—è¡¨ï¼Œå‚¨å­˜äº†ä¸€äº›åˆ—ä»»åŠ¡çš„å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«<code>id</code>ï¼Œ<code>name</code>ä»¥åŠ<code>done</code>ç­‰å±æ€§ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">todoList</span>  <span style="color:#f92672">=</span> [
  {
    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">01</span>,
    <span style="color:#a6e22e">taskName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;å–1Læ°´&#34;</span>,
    <span style="color:#a6e22e">done</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
  },
  {
    <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">02</span>,
    <span style="color:#a6e22e">taskName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;å†™å®Œdodo reviewæ–‡ç« &#34;</span>,
    <span style="color:#a6e22e">done</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
  }
];
</code></pre></div><ul>
<li>å°†æ•°æ®å­˜æ”¾èµ·æ¥ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#39;todoList&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">todoList</span>))
</code></pre></div><ul>
<li>å–å‡ºæ•°æ®ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">dataList</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;todoList&#34;</span>))
</code></pre></div><h3 id="å¼‚å¸¸">å¼‚å¸¸</h3>
<p>å¦‚æœå‚¨å­˜å·²æ»¡ï¼ˆlocalStorageåªæœ‰5MBï¼‰æˆ–åœ¨iOS 5ä»¥åçš„ç§»åŠ¨ç‰ˆSafariæµè§ˆå™¨çš„<code>æ— ç—•æµè§ˆ</code>æ¨¡å¼ä¸‹ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆSafari åœ¨éšèº«æ¨¡å¼ä¸‹ä¼šå°†å­˜å‚¨é…é¢è®¾ç½®ä¸º 0 å­—èŠ‚ï¼Œè¿™ä¸å…¶å®ƒæµè§ˆå™¨ä¸åŒï¼Œåè€…å…è®¸åœ¨éšèº«æ¨¡å¼ä¸‹ä½¿ç”¨å•ç‹¬çš„æ•°æ®å®¹å™¨è¿›è¡Œå­˜å‚¨ã€‚ï¼‰</p>
<p>æ—¥åä¼šå°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 id="vue-cli-3ä¸­å¦‚ä½•è®¾ç½®é¡µé¢iconå›¾æ ‡">Vue-cli 3ä¸­å¦‚ä½•è®¾ç½®é¡µé¢iconå›¾æ ‡</h2>
<p>å®˜ç½‘æœ‰æåˆ°ï¼š</p>
<blockquote>
<h4 id="index-æ–‡ä»¶">Index æ–‡ä»¶</h4>
<p><code>public/index.html</code> æ–‡ä»¶æ˜¯ä¸€ä¸ªä¼šè¢« html-webpack-plugin å¤„ç†çš„æ¨¡æ¿ã€‚åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œèµ„æºé“¾æ¥ä¼šè¢«è‡ªåŠ¨æ³¨å…¥ã€‚å¦å¤–ï¼ŒVue CLI ä¹Ÿä¼šè‡ªåŠ¨æ³¨å…¥ resource hint (preload/prefetchã€manifest å’Œå›¾æ ‡é“¾æ¥ (å½“ç”¨åˆ° PWA æ’ä»¶æ—¶) ä»¥åŠæ„å»ºè¿‡ç¨‹ä¸­å¤„ç†çš„ JavaScript å’Œ CSS æ–‡ä»¶çš„èµ„æºé“¾æ¥ã€‚</p>
</blockquote>
<p>ä»ä¸­æå–åˆ°ä¿¡æ¯ç‚¹ï¼šVue CLI ä¹Ÿä¼šè‡ªåŠ¨æ³¨å…¥ä¸€äº›é™æ€èµ„æºï¼Œå…¶ä¸­åŒ…å«æˆ‘æƒ³è¦æ·»åŠ çš„å›¾æ ‡ï¼Œä¸”éœ€è¦ä½¿ç”¨PWAæ’ä»¶ã€‚</p>
<p>PWAï¼ŒProgressive web apps</p>
<p>åœ¨Vue-cliå®˜ç½‘æ£€ç´¢<code>pwa</code>ï¼Œè¿›å…¥vue.config.jsçš„<a href="https://cli.vuejs.org/zh/config/#pwa">å…¨å±€é…ç½®é¡µé¢</a>ï¼Œç„¶åç‚¹å‡»è¿›å…¥<a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa">PWA Github é¡µé¢</a></p>
<p>æ ¹æ®ç½‘ç«™ï¼Œ<code>pwa plugin for vue-cli</code>ï¼Œåªä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ³¨å…¥ï¼Œè€Œä¸æ˜¯å¼€å‘æ¨¡å¼ã€‚å¯ä»¥åœ¨<code>vue.config.js</code>æ–‡ä»¶æˆ–<code>package.json</code>çš„<code>&quot;vue&quot;</code>ä¸­é…ç½®<code>pwa</code>å±æ€§ã€‚</p>
<p>æ‰¾åˆ° <code>pwa.iconPaths</code>ï¼š</p>
<ul>
<li>pwa.iconPaths
<ul>
<li>Defaultsé…ç½®ï¼š</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>{
  faviconSVG: 'img/icons/favicon.svg',
  favicon32: 'img/icons/favicon-32x32.png',
  favicon16: 'img/icons/favicon-16x16.png',
  appleTouchIcon: 'img/icons/apple-touch-icon-152x152.png',
  maskIcon: 'img/icons/safari-pinned-tab.svg',
  msTileImage: 'img/icons/msapplication-icon-144x144.png'
}
</code></pre><p>æ‰“å¼€ <code>vue.config.js</code> ï¼Œåœ¨ <code>module.exports</code>ä¸­æ·»åŠ ä»¥ä¸Šä»£ç ã€‚åˆ·æ–°ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°å›¾æ ‡äº†ã€‚</p>
<hr>
<span style="font-size:14px; color:#ccc">
å‚è€ƒï¼š
VUE----vue-cli3.0è®¾ç½®é¡µé¢iconå›¾æ ‡
https://blog.csdn.net/xyy1234567891/article/details/104841750  </span>
<h2 id="vueä¸­çš„imgè·¯å¾„">vueä¸­çš„imgè·¯å¾„</h2>
<ol>
<li><strong>å¼•å…¥assetsä¸­çš„img</strong>
å°†å›¾ç‰‡æ–‡ä»¶æ”¾å…¥ <code>/src/assets</code> ä¸‹ï¼Œå¼•ç”¨åœ°å€ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;@/assets/your-pic.png&#34;</span>&gt;
</code></pre></div><ol start="2">
<li>å¼•å…¥publicä¸­çš„img
å°†å›¾ç‰‡æ–‡ä»¶æ”¾å…¥ <code>/public</code> ä¸‹ï¼Œä½¿ç”¨ç›¸å¯¹åœ°å€å¼•ç”¨ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./assets/your-pic.png&#34;</span>&gt;
</code></pre></div><span style="font-size:14px; color:#ccc">
å‚è€ƒï¼š
https://blog.csdn.net/qq_40323256/article/details/115339101 </span>
<h2 id="é€šè¿‡ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ç­›é€‰ä»»åŠ¡">é€šè¿‡ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ç­›é€‰ä»»åŠ¡</h2>
<p><strong>éœ€æ±‚ï¼šç”¨æˆ·åœ¨æœç´¢æ çš„inputæ¡†å†…è¾“å…¥å…³é”®å­—ï¼Œå°±å¯ä»¥æ£€ç´¢ç›¸åº”çš„ä»»åŠ¡ã€‚</strong></p>
<p>æœ‰æƒ³è¿‡æŠŠæ¯ä¸€æ¡ä»»åŠ¡çš„å­—ç¬¦ä¸²åˆ†è§£æˆä¸€ä¸ªä¸ªçš„å•å­—æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œç„¶ååŒ¹é…ã€‚ä½†å¦‚æœæ˜¯ä¸¤ä¸ªå­—çš„æœç´¢å‘¢ï¼Ÿäº‹æƒ…åˆ°è¿™é‡Œå˜å¾—å¤æ‚äº†è®¸å¤šï¼Œè¡Œä¸é€šã€‚</p>
<p>å†æƒ³ä¸€æƒ³ï¼Œä¼¼ä¹å¯ä»¥ç”¨<code>filter()</code>æ–¹æ³•åšã€‚å…ˆæ‹¿åˆ°todoåˆ—è¡¨ï¼Œå†ç”¨<code>v-model</code>æ‹¿åˆ°çš„ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œé€šè¿‡<code>indexOf()</code>æ–¹æ³•æŸ¥çœ‹todoé‡Œæ˜¯å¦å«æœ‰è¿™äº›å­—ç¬¦ï¼Œå¦‚æœè¿”å›å€¼ä¸ç­‰äº<code>-1</code>ï¼Œåˆ™è¯´æ˜å«æœ‰ï¼Œä»è€Œè¿‡æ»¤å‡ºåˆ—è¡¨ã€‚</p>
<p>å› ä¸ºæœç´¢æ å’ŒtodoListä¸æ˜¯çˆ¶å­ç»„ä»¶ï¼Œæ‰€ä»¥ä½¿ç”¨äº†Vuex dispatchåˆ°storeä¸­å‚¨å­˜ã€‚</p>
<p>ç”¨æˆ·è¾“å…¥çš„æœç´¢è¯ï¼ŒåŒå‘ç»‘å®šä¸º<code>enteredVal</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">data</span>() {
    <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">enteredVal</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;&#34;</span>,
    };
},
</code></pre></div><p>ç”¨<code>dispatch</code>å°†<code>enteredVal</code>ä¼ é€’ç»™<code>$store.state.filterWords</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">passFilterWord</span>() {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">dispatch</span>(<span style="color:#e6db74">&#34;passFilterWord&#34;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">enteredVal</span>);
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">enteredVal</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
    },
},
</code></pre></div><p>ç°åœ¨ï¼ŒtodoListç»„ä»¶å°±å¯ä»¥æ‹¿åˆ°ç”¨æˆ·è¾“å…¥çš„ç­›é€‰è¯ï¼Œç„¶åç­›é€‰ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JavaScript" data-lang="JavaScript"><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">todoList</span>() {
      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">getters</span>.<span style="color:#a6e22e">todoList</span>;
    },
    <span style="color:#a6e22e">thefilteredWord</span>() {
      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">getters</span>.<span style="color:#a6e22e">filteredWord</span>;
    },
    <span style="color:#a6e22e">filteredTodos</span>() {
      <span style="color:#75715e">// todoList.taskName.indexOf(&#39;thefilteredWord&#39;)
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">todoList</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">todoList</span>.<span style="color:#a6e22e">filter</span>(
            <span style="color:#75715e">// ä¸ç­‰äº-1çš„å¯¹è±¡å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„è¿‡æ»¤å‡ºçš„å¯¹è±¡
</span><span style="color:#75715e"></span>          (<span style="color:#a6e22e">todo</span>) =&gt; <span style="color:#a6e22e">todo</span>.<span style="color:#a6e22e">taskName</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">thefilteredWord</span>) <span style="color:#f92672">!==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        );
      }
    },
  },
}
</code></pre></div><h2 id="å¦‚ä½•ä¿®æ”¹ä»»åŠ¡çš„å†…å®¹">å¦‚ä½•ä¿®æ”¹ä»»åŠ¡çš„å†…å®¹</h2>
<p><strong>éœ€æ±‚ï¼šç‚¹å‡»æŸä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œå¯ä»¥ä¿®æ”¹å®ƒçš„å†…å®¹ã€‚</strong></p>
<p>åŸæœ¬æ¯ä¸€æ¡ä»»åŠ¡éƒ½æ”¾åœ¨<code>li</code>æ ‡ç­¾é‡Œï¼Œç”¨<code>v-for</code>æ¸²æŸ“ã€‚å¦‚æœè¦å®ç°ä¿®æ”¹ï¼Œæˆ‘éœ€è¦æŠŠåŸæœ¬è£¸éœ²åœ¨lié‡Œçš„å†…å®¹æ”¾åˆ°<code>input</code>ä¸­ï¼Œåƒè¿™æ ·ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">span</span>&gt;
    &lt;<span style="color:#f92672">input</span>
    <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span>
    <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;item.taskName&#34;</span>
    <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">keyup</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">enter</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editTodo(item.taskName, item.id)&#34;</span>
    <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">blur</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;editTodo(item.taskName, item.id)&#34;</span>
/&gt;&lt;/<span style="color:#f92672">span</span>&gt;
</code></pre></div><p>ç”¨æˆ·ç‚¹å‡»ä»»åŠ¡ï¼Œè‡ªç„¶å¯ä»¥ä¿®æ”¹å†…å®¹ï¼ŒUIä¸Šæˆ‘æŠŠ<code>input</code>çš„æ ·å¼æ”¹ä¸ºé€æ˜ã€‚</p>
<p>ç”¨æˆ·ä¿®æ”¹å®Œæ¯•ï¼Œè®¾ç½®ä¸¤ä¸ªäº‹ä»¶ï¼š</p>
<ol>
<li>ç¦»å¼€è¾“å…¥æ¡†</li>
<li>hit enter
ä¸¤è€…éƒ½ä¼šè§¦å‘<code>@editTodo</code>äº‹ä»¶ï¼Œå¹¶ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šä¿®æ”¹åçš„ä»»åŠ¡å†…å®¹å’Œè¯¥ä»»åŠ¡çš„idã€‚idå¯ä»¥å¸®åŠ©é”å®šå“ªä¸€ä¸ªä»»åŠ¡è¢«ä¿®æ”¹äº†ï¼Œè¿›è€Œä¿®æ”¹localStorageé‡Œçš„å†…å®¹ï¼Œå…¶ä½™éƒ¨åˆ†å†æ‹¿åˆ°æœ€æ–°çš„æ•°æ®è¿›è¡Œrenderã€‚</li>
</ol>
<ul>
<li>editTodoæ–¹æ³•ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span>{
  <span style="color:#a6e22e">editTodo</span>(<span style="color:#a6e22e">content</span>, <span style="color:#a6e22e">id</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">dispatch</span>(<span style="color:#e6db74">&#34;editTodo&#34;</span>, {
      <span style="color:#75715e">// å°†æ›´æ–°çš„å†…å®¹ content å’Œ id dispatch ç»™ actions
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">content</span>,
      <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">id</span>,
    });
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">loadTodoList</span>();
  },
}
</code></pre></div><ul>
<li>actions:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">actions</span><span style="color:#f92672">:</span>{
  <span style="color:#a6e22e">editTodo</span>(<span style="color:#a6e22e">context</span>, <span style="color:#a6e22e">payload</span>) {
      <span style="color:#75715e">// å¾—åˆ°å½“å‰localæ•°æ®
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">updatedData</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;todoList&#34;</span>));

      <span style="color:#75715e">// å°†idä¸ºpayload.idçš„ä»»åŠ¡çš„taskNameæ›´æ–°
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">updatedData</span>.<span style="color:#a6e22e">findIndex</span>(<span style="color:#a6e22e">item</span> =&gt; <span style="color:#a6e22e">item</span>[<span style="color:#e6db74">&#39;id&#39;</span>] <span style="color:#f92672">===</span> <span style="color:#a6e22e">payload</span>.<span style="color:#a6e22e">id</span>);
      <span style="color:#a6e22e">updatedData</span>[<span style="color:#a6e22e">index</span>][<span style="color:#e6db74">&#39;taskName&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">payload</span>.<span style="color:#a6e22e">content</span>

      <span style="color:#75715e">// æ›´æ–°localæ•°æ®
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;todoList&#34;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">updatedData</span>))
      <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">commit</span>(<span style="color:#e6db74">&#39;editTodos&#39;</span>, <span style="color:#a6e22e">updatedData</span>);
  }
}
</code></pre></div><ul>
<li>æäº¤åˆ°mutations:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">mutations</span><span style="color:#f92672">:</span>{
  <span style="color:#a6e22e">editTodos</span>(<span style="color:#a6e22e">state</span>, <span style="color:#a6e22e">payload</span>) {
      <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">todos</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">payload</span>;
  }
}
</code></pre></div><h2 id="æ¨èiconç”Ÿæˆç½‘ç«™">æ¨èiconç”Ÿæˆç½‘ç«™</h2>
<ul>
<li><a href="https://favicon.io/">favicon</a></li>
</ul>

  </div>
  
    <footer>
      
<div id="disqus_thread">
  <span class="button" onclick="loadDisqusComments()">Load Disqus Comments&hellip;</span>
</div>


    </footer>
  
</article>


<ul class="tags">
  
  <li>
    <a href="http://blog.nekolas.cafe/tags/vue/">Vue</a>
  </li></ul>



<div class="pagination">
  <div class="right">
  
    <a href="">
      <time datetime="2022-03-05 01:50:00 &#43;0800 CST">&laquo; 2022-03-05</time>
      Vueè¯¾ç¨‹ç¬”è®°ï¼šAnimations and Transitions
    </a>
  
  </div>
  <div class="left">
  
    <a href="">
      <time datetime="2022-04-17 17:31:00 &#43;0800 CST">2022-04-17 &raquo;</time>
      v-cloak: éšè—æœªç¼–è¯‘çš„raw template
    </a>
  
  </div>
</div>




<script type="text/javascript">
  function loadDisqusComments() {
    var e = document.createElement("script");
    e.type = "text/javascript";
    e.async = true;
    e.src = "//nekolas-blog.disqus.com/embed.js";
    (document.getElementsByTagName("head")[0] ||
      document.getElementsByTagName("body")[0])
    .appendChild(e);
  }

  
</script>




  </main>

  
  <footer>
    
      <span class="gopher" title="Proudly powered by Go!"></span>
    

    
<nav>
  
  <ul>
    
    
      <li><a href="/gallery">~/gallery</a></li>
    
      <li><a href="/bb">~/bb</a></li>
    

    
      <li><a href="/tags">~/tags</a></li>
    
      <li><a href="/posts">~/posts</a></li>
    
  </ul>
  

  
  <ul>
    
      <li><a target="hugo_ext" href="https://twitter.com/niqks07">Twitter</a></li>
    
      <li><a target="hugo_ext" href="https://github.com/nicopcat">GitHub</a></li>
    
      <li><a target="hugo_ext" href="https://instagram.com/niqks07">Instagram</a></li>
    
      <li><a target="hugo_ext" href="mailto:tianfang07@outlook.com">Email</a></li>
    
  </ul>
  
</nav>




    <p>&copy; 2022 <a href="">Nic Tian</a></p>
  </footer>
  

</body>

</html>
